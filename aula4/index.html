<!-- relogio.html -->
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Relógio Digital Simples</title>
<style>
    /* CSS Minimo para o Relógio Digital */
    /* Reset básico  */
    html, body {
        height: 100%;
        margin: 0;
        display: flex;
        justify-content: center;
        align-items: center;
        font-family: system-ui, 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
 
    /* Estilo do Relógio */
    .box{
        text-align: center;
        border: 2px solid #000;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
 
    /* Estilo do Relógio */
    .clock {
        font-size: 30px;
        margin-bottom: 10px;
    }
 
    /* Estilo da Data */
    .date {
        font-size: 26px;
        margin-bottom: 20px;
    }
 
    /* Estilo do Botão */
    button {
        padding: 10px 20px;
        font-size: 12px;
        cursor: pointer;
        border: none;
        border-radius: 5px;
        background-color: #007BFF;
        color: white;
    }
    /* Estilo do Botão ao ser pressionado */
    button:active {
        background-color: #0056b3;
    }  
</style>
 
 
</head>
<body>
    <main>
        <!-- Relógio e Data -->
        <div id="clock" aria-label="Horário Atual">--:--:--</div>
        <!-- Data Atual -->
        <div id="date">--</div>
        <div>
            <!-- Botão para alternar formato -->
            <button id="toggle" type="button">Formato: 24</button>
        </div>
 
    </main>
 
 <script>
    // Seleciona os elementos do DOM - Para mostrar o relógio e a data
    const clockEl = document.getElementById('clock');
    const dateEl = document.getElementById('date');
    const btn = document.getElementById('toggle');
 
    // Lê a preferência de formato de hora salva; padrão é 24 horas
    let use12 = (localStorage.getItem('clock.format') || '24') === '12';
    updateButton();
 
    function render() {
        // Obtém a data e hora atuais
        const now = new Date();
 
        // Formatar hora
        // Ajusta para 12 ou 24 horas conforme a preferência
        const hh = use12 ? now.getHours() % 12 || 12 : now.getHours();
        // Formata minutos e segundos com dois dígitos
        const mm = now.getMinutes();
        const ss = now.getSeconds();
        // Adiciona AM/PM se estiver no formato 12 horas
        const ampm = use12 ? (now.getHours() >= 12 ? ' PM' : ' AM') : '';
 
        // Formata a string da hora
        const formattedTime = `${String(hh).padStart(2, '0')}:${String(mm).padStart(2, '0')}:${String(ss).padStart(2, '0')}${ampm}`;
        // Atualiza o conteúdo do elemento do relógio
        clockEl.textContent = formattedTime;
 
        // Formatar data
        // Formata a data como DD/MM/AAAA
        const day = String(now.getDate()).padStart(2, '0');
        // Meses começam do 0, então adiciona 1
        const month = String(now.getMonth() + 1).padStart(2, '0'); // Meses começam do 0
        const year = now.getFullYear();
 
        // Formata a string da data
        const formattedDate = `${day}/${month}/${year}`;
        // Atualiza o conteúdo do elemento da data
        dateEl.textContent = formattedDate;
    }
 
    // Atualiza o relógio a cada segundo
    function tick() {
        render();
        // Calcula o tempo restante até o próximo segundo
        const ms = 1000 - (Date.now() % 1000) + 10;
        // Atualiza o relógio após o tempo restante
 
        setTimeout(tick, ms);
    }

    tick (); // inicia loop do relogio
 
    btn.addEventListener('click', () => {
        // Alterna o formato de hora entre 12 e 24 horas
        use12 = !use12;
        // Salva a preferência no localStorage
        localStorage.setItem('clock.format', use12 ? '12' : '24');
        // Atualiza o texto do botão e renderiza o relógio novamente
        updateButton();
        render();
    });
 
    function updateButton() {
        // Atualiza o texto do botão para refletir o formato atual
        btn.textContent = `Formato: ${use12 ? '12' : '24'}`;
    }
 
    // Formatar hora
 
 </script>  
</body>
</html>